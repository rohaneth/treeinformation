<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tree Explorer</title>
<style>
  html, body { margin:0; padding:0; height:100%; overflow:hidden; font-family:'Segoe UI', Roboto, Arial, sans-serif; }
  body { background: radial-gradient(circle at center, #0f2027, #203a43, #2c5364); color:#fff; }
  
  /* Navbar */
  .navbar { display:flex; align-items:center; justify-content:space-between; padding:10px 15px; background: rgba(0,0,0,0.5); backdrop-filter: blur(6px); border-bottom:2px solid #00ffff; position:fixed; width:100%; z-index:10; }
  .navbar img { height:50px; }
  .navbar-title { text-align:center; flex:1; padding:0 10px; }
  .navbar-title h1 { font-size:16px; margin:0; color:#00ffff; text-shadow:1px 1px 4px #000; }
  .navbar-title h2,h3 { margin:0; font-weight:lighter; font-size:12px; color:#ccc; text-shadow:1px 1px 2px #000; }

  /* Tree Card Overlay */
  .tree-container { position:absolute; top:100px; left:50%; transform:translateX(-50%); background:rgba(0,0,0,0.6); border-radius:20px; padding:20px; width:90%; max-width:600px; backdrop-filter: blur(10px); box-shadow:0 0 50px #00ffff; z-index:10; color:#00ffff; }
  .tree-container h2 { text-align:center; font-size:28px; margin-bottom:5px; text-shadow:2px 2px 6px #000; }
  .tree-container p { text-align:center; font-style:italic; margin-bottom:15px; color:#ccc; }
  .tree-details { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:10px; }
  .detail-card { background: rgba(255,255,255,0.05); padding:10px; border-radius:10px; border:1px solid rgba(0,255,255,0.3); text-align:center; animation: float 4s ease-in-out infinite alternate; }
  .detail-card h4 { margin:0 0 5px; font-size:14px; color:#0ff; }
  .detail-card ul { list-style:none; padding:0; margin:0; font-size:12px; }
  .detail-card li { margin:2px 0; }

  /* Animations */
  @keyframes float { 0%{transform:translateY(0)} 100%{transform:translateY(-10px)} }

  /* Canvas Globe */
  #globe { position:fixed; top:0; left:0; width:100%; height:100%; z-index:1; }

  /* Mobile Adjustments */
  @media(max-width:600px){ .tree-container{top:80px;padding:15px;} .tree-container h2{font-size:22px;} }
</style>
</head>
<body>

<!-- 3D Globe -->
<canvas id="globe"></canvas>

<!-- Navbar -->
<div class="navbar">
  <img src="club_logo.jpg" alt="Club Logo">
  <div class="navbar-title">
    <h1>SHRI GURU GOBIND SINGHJI INSTITUTE OF ENGINEERING AND TECHNOLOGY</h1>
    <h2>VISHNUPURI, NANDED-431606</h2>
    <h3>(Government Aided Autonomous Institute)</h3>
  </div>
  <img src="clg_logo.jpg" alt="College Logo">
</div>

<!-- Tree Info -->
<div class="tree-container">
  <h2 id="name">Tree Name</h2>
  <p id="scientific-name"><em>Scientific Name Here</em></p>
  <div class="tree-details">
    <div class="detail-card"><h4>Family</h4><p id="family"></p></div>
    <div class="detail-card"><h4>Native Region</h4><p id="native-region"></p></div>
    <div class="detail-card"><h4>Height</h4><p id="height"></p></div>
    <div class="detail-card"><h4>Notable Features</h4><ul id="features"></ul></div>
    <div class="detail-card"><h4>Lifespan</h4><p id="lifespan"></p></div>
    <div class="detail-card"><h4>Conservation Status</h4><p id="status"></p></div>
    <div class="detail-card"><h4>Medicinal Uses</h4><ul id="medicinal-uses"></ul></div>
    <div class="detail-card"><h4>Safety Note</h4><p id="safety-note"></p></div>
  </div>
</div>

<script>
// ----- 3D Globe -----
const canvas = document.getElementById('globe');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let angle = 0;
function drawGlobe() {
  const w = canvas.width, h = canvas.height;
  ctx.clearRect(0,0,w,h);
  ctx.save();
  ctx.translate(w/2,h/2);

  // glowing rotating circles
  for(let i=0;i<100;i++){
    const radius = 150 + i*2;
    const x = radius * Math.cos(angle + i/20);
    const y = radius * Math.sin(angle + i/20);
    ctx.beginPath();
    ctx.arc(x,y,1.5,0,Math.PI*2);
    ctx.fillStyle = `hsla(${i*3}, 100%, 50%, 0.6)`;
    ctx.fill();
  }

  // center "Earth" circle
  ctx.beginPath();
  ctx.arc(0,0,100,0,Math.PI*2);
  const grd = ctx.createRadialGradient(0,0,20,0,0,100);
  grd.addColorStop(0,'#00ffff');
  grd.addColorStop(1,'#002233');
  ctx.fillStyle = grd;
  ctx.fill();
  
  ctx.restore();
  angle += 0.01;
  requestAnimationFrame(drawGlobe);
}
drawGlobe();
window.addEventListener('resize',()=>{canvas.width=window.innerWidth;canvas.height=window.innerHeight;});

// ----- Tree Data Loader -----
async function loadTree() {
  try {
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");
    const res = await fetch("data.json");
    const trees = await res.json();
    let tree = Array.isArray(trees)?trees.find(t=>t.id==id):trees.id==id?trees:null;
    if(!tree){ document.querySelector(".tree-container").innerHTML="<h3>Tree not found</h3>"; return;}
    
    document.getElementById("name").textContent = tree.name;
    document.getElementById("scientific-name").textContent = tree.scientific_name;
    document.getElementById("family").textContent = tree.family;
    document.getElementById("native-region").textContent = tree.native_region.join(", ");
    document.getElementById("height").textContent = tree.height_meters + " meters";
    document.getElementById("features").innerHTML = `<li>${tree.notable_features.fragrance || ''}</li><li>${tree.notable_features.medicinal_pods || ''}</li>`;
    document.getElementById("lifespan").textContent = tree.lifespan_years + " years";
    document.getElementById("status").textContent = `${tree.status.conservation_status} (${tree.status.native_range})`;
    document.getElementById("medicinal-uses").innerHTML = (tree.traditional_medicinal_uses||[]).map(u=>`<li>${u}</li>`).join("");
    document.getElementById("safety-note").textContent = tree.safety_note || '';
  } catch(e){ console.error(e); document.querySelector(".tree-container").innerHTML="<h3>Error loading tree data</h3>"; }
}
loadTree();
</script>

</body>
</html>
